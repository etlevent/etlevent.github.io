# AspectJ编译器ajc
---

[ajc](https://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html):能识别`aspectJ`语法的编译器，也可编译`java`文件。
> ajc [Options] [file... | @file... | -argfile file...]

`-inpath`：指定需要编译的源码文件，源码文件可以在命令行或文件中指定；`-argfile file`和`@file`是相同的命令。
## 参数
`-injars JarList`： *deprecated: since 1.2*.使用`-inpath`，接受源码文件及路径
`-inpath Path``.class`的字节码，`.jar`文件及`源码`文件，输出被Apect编织的class文件。
`-aspectpath Path`将jar包及源码编译成二进制aspect，且所有aspect必须由相同版本的编译器输出。即`classpath`由平台指定的classpath分割为参数列表。
`-argfile File`同`@file`。包含的文件以行分割为参数列表；每一行包含选项、文件名或参数字符串(e.g.`classpath`或`inpath`)；读取的参数列表将被插入到命令中。
文件中相对路径的父路径由文件目录决定，与当前工作目录无关。可在行尾使用`//`开头的注释。
参数文件中指定的参数将会覆盖已经存在的指令，避免在文件中指定`-classpath`之类的唯一编译指令。
`-outjar output.jar`将class文件输出到`output.jar`。
`-outxml`：将加载时编织生成aop xml；默认名为`META-INF/aop-ajc.xml`
`-outxmlfile filename`：自定义aop.xml文件名
`-incremental`：增量编译。持续运行编译器。在初始编译完成后，编译器将进入等待，在标准输入中读到更新后重新编译，读到`'q'`时退出编译。重新编译时只编译必要的部分，增量编译速度更快。需要指令`-sourceroots`。
`-sourceroots DirPaths`：查找并编译`DirPaths`下的所有目录及子目录的`.java`、`.aj`文件。`DirPaths`(如classpath)单一参数包含路径或目录列表。被依赖指令`-incremental`。
`-crossrefs`：生成构建的`.ajsym`文件，可通过工具（AspectJ Browser）查看织入过程。
`-emacssym`：生成`emacs`支持的`.ajesym`文件（已废弃）。
`-Xlint`：同`-Xlint:warning`，默认开启。
`-Xlint:{level}`：设置编译时的日志信息级别。`{level}`:`ignore`，`warning`，`error`。
重载入口在`aspectjtools.jar`的`org/aspectj/weaver/XlintDefault.properties`文件中。使用`-Xlintfile`参数不会覆盖日志级别。
`-Xlintfile PropertyFile`：指定设置编织信息级别的配置文件。`PropertyFile`是一个java的`.properties`文件，默认为`aspectjtools.jar`的`org/aspectj/weaver/XlintDefault.properties`文件。
`-help`：输出编译器的帮助信息，参数和使用方法。
`-version`：输出AspectJ编译器版本。
`-classpth Path`：指定查找类文件的路径。（文件路径或目录列表）
`-bootclasspth Path`：指定编译时覆盖虚拟机引导类文件的路径。（文件路径或目录列表）
`-extdirs Path`：覆盖安装的扩展目录的位置。（路径或目录列表）
`-d Directory`：生成`.class`文件路径。默认当前工作目录。
`-target [1.1 to 1.5]`：生成特定 VM 版本的类文件。（1.1到1.5版本，默认1.2）。
`-1.3`：设置编译级别为1.3。同`-source 1.3`且`-target 1.1`。
`-1.4`：（默认）同`-source 1.4`且`-target 1.2`。
`-1.5`：（默认）同`-source 1.5`且`-target 1.5`。
`-source [1.3|1.4|1.5]`：提供与指定版本的源兼容性。(1.3, 1.4, or 1.5 - default is 1.4)。
`-nowarn`：不生成任何警告，同`-warn:none`。不包含由`declare warning`或`Xlint`生成的信息。
`warn:items`：生成指定警告信息。
|item|description|
|:--:|:--:|
|constructorName|method with constructor name|
|packageDefaultMethod|attempt to override package-default method|
|deprecation|usage of deprecated type or member|
|maskedCatchBlocks|hidden catch block|
|unusedLocals|local variable never read|
|unusedArguments|method argument never read|
|unusedImports|import statement not used by code in file|
|none|suppress all compiler warnings|
> `-warn:none` does not suppress messages generated by `declare warning` or `Xlint`.

`-deprecation`：同`-warn:deprecation`。
`-noImportError`：不提示未导入包错误。
`-proceedOnError`：遇到错误时继续编译
`-g:[lines,vars,source]`：调试信息
|指令|说明|
|:--:|:--:|
|-g|all debug info ('-g:lines,vars,source')|
|-g:none|no debug info|
|-g:{items}|debug info for any/all of [lines, vars, source], e.g.,-g:lines,source|
`-preserveAllLocals`：
`-referenceInfo`：
`-encoding format`：
`-verbose`：
`-showWeaveInfo`：
`-log file`：
`-progress`：
`-time`：
`-noExit`：Do not call System.exit(n) at end of compilation (n=0 if no error)
`-repeat N`：Repeat compilation process N times (typically to do performance analysis).
`-XterminateAfterCompilation`：Causes compiler to terminate before weaving
`-XaddSerialVersionUID`：Causes the compiler to calculate and add the SerialVersionUID field to any type implementing Serializable that is affected by an aspect. The field is calculated based on the class before weaving has taken place.
`-Xreweavable[:compress]`：(Experimental - deprecated as now default)Runs weaver in reweavable mode which causes it to create woven classes that can be rewoven, subject to the restriction that on attempting a reweave all the types that advised the woven type must be accessible.
`-XnoInline`：(Experimental)do not inline around advice
`-XincrementalFile file`：(Experimental)This works like incremental mode, but using a file rather than standard input to control the compiler. It will recompile each time file is changed and and halt when file is deleted.
`-XserializableAspects`：(Experimental)Normally it is an error to declare aspects Serializable. This option removes that restriction.
`-XnotReweavable`：(Experimental)Create class files that can't be subsequently rewoven by AspectJ.
`-Xajruntimelevel:1.2, ajruntimelevel:1.5`：(Experimental)Allows code to be generated that targets a 1.2 or a 1.5 level AspectJ runtime (default 1.5)